# Exotic Travel Booking Platform - Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG_MODE=false
SECURITY_TESTING=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=exotic_travel_prod
DB_USER=postgres
DB_PASSWORD=your-secure-database-password
POSTGRES_PASSWORD=your-secure-database-password

# Database connection pool settings
DB_MAX_CONNECTIONS=25
DB_IDLE_CONNECTIONS=5
DB_CONNECTION_LIFETIME=3600
DB_CONNECTION_IDLE_TIME=900

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# Redis connection pool settings
REDIS_MAX_CONNECTIONS=10
REDIS_IDLE_CONNECTIONS=3
REDIS_CONNECTION_TIMEOUT=5

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_ISSUER=exotic-travel-booking
JWT_AUDIENCE=exotic-travel-api
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=168h

# Generate these keys using:
# openssl genpkey -algorithm RSA -out private.key -pkcs8 -pass pass:temp
# openssl rsa -pubout -in private.key -out public.key
JWT_PRIVATE_KEY=your-jwt-private-key-base64
JWT_PUBLIC_KEY=your-jwt-public-key-base64
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Generate using: openssl rand -hex 32
ENCRYPTION_KEY=your-32-byte-hex-encryption-key

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate limiting
RATE_LIMIT_RPS=10
RATE_LIMIT_BURST=20
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_SECOND=10
REQUEST_TIMEOUT_SECONDS=30
MAX_REQUEST_SIZE_MB=10

# Request limits
MAX_REQUEST_SIZE=10485760
MAX_STRING_LENGTH=10000

# Security headers
CSP_ENABLED=true
CSP_DIRECTIVES=default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# CORS configuration
CORS_ENABLED=true
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# IP filtering
TRUSTED_PROXIES=127.0.0.1/32,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
BLOCKED_IPS=
IP_WHITELIST_ONLY=false
ALLOWED_IPS=

# Session configuration
SESSION_TIMEOUT=24h
SESSION_SECURE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=Strict
SESSION_SECRET=your-session-secret-key
SESSION_TIMEOUT_HOURS=24

# Audit configuration
AUDIT_ENABLED=true
AUDIT_LEVEL=INFO
AUDIT_RETENTION_DAYS=90

# =============================================================================
# TLS/SSL CONFIGURATION
# =============================================================================
TLS_ENABLED=true
TLS_CERT_FILE=/etc/ssl/certs/fullchain.pem
TLS_KEY_FILE=/etc/ssl/private/privkey.pem
TLS_MIN_VERSION=1.2
SSL_CERT_PATH=/etc/ssl/certs/fullchain.pem
SSL_KEY_PATH=/etc/ssl/private/privkey.pem

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
PORT=8080
FRONTEND_PORT=3000

# =============================================================================
# STRIPE CONFIGURATION
# =============================================================================
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_NAME=Exotic Travel Booking
SMTP_FROM_EMAIL=noreply@yourdomain.com
FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_APP_URL=https://yourdomain.com

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=your-secure-grafana-password

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE=28

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

# =============================================================================
# CLOUD STORAGE CONFIGURATION
# =============================================================================
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/gif
UPLOAD_PATH=/app/uploads

# =============================================================================
# EXTERNAL SERVICES CONFIGURATION
# =============================================================================

# Google Maps API (for location services)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# SendGrid (alternative email service)
SENDGRID_API_KEY=your-sendgrid-api-key

# Cloudflare (CDN configuration)
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Cache settings
CACHE_TTL_DEFAULT=300
CACHE_TTL_DESTINATIONS=600
CACHE_TTL_USERS=1800

# Image optimization
IMAGE_MAX_SIZE=5242880
IMAGE_QUALITY=85
IMAGE_FORMATS=jpeg,png,webp

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_REVIEWS_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_ADMIN_DASHBOARD_ENABLED=true

# =============================================================================
# DEVELOPMENT/TESTING CONFIGURATION (Should be false in production)
# =============================================================================
ENABLE_SWAGGER=false
ENABLE_DEBUG_ROUTES=false
ENABLE_PROFILING=false

# Test database (for running tests)
TEST_DB_HOST=localhost
TEST_DB_PORT=5433
TEST_DB_NAME=exotic_travel_test
TEST_DB_USER=test_user
TEST_DB_PASSWORD=test_password
